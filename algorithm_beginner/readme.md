# 算法初级题
来自二分类模型的暴击

## 题目描述
所谓大道至简，本题通过最简单的二分类问题来考察初级算法工程师的基础能力。  
对于许多调参工程师来说，甚至可能被最简单的二分类问题暴击。  

在人脸识别中，有个典型的二分类问题，活体识别，即判断一张人脸是真人还是打印图片。  
通常的RGB摄像头的活体识别通常不够准确（测试过使用单目RGB摄像头的钉钉考勤机，只要掌握了技巧也能使用彩色照片验证通过）  
一般使用红外摄像头或者深度摄像头进行活体识别。这里以低成本红外摄像头为例。  

数据集：as_train.tar.gz  (数据集较大，发送数据集申请邮件到support@sipeed.com获取)
1. 内含 0,1 目录，0为假脸，1为真脸，内部图片为多种格式混杂，但尺寸均为128x128（通道可能为1或3），也可能有脏数据    
2. 未公开的测试集里，包含训练集里从未出现过的人脸，光线环境，攻击方式，请注意训练时不要过拟合，并且最好尽量增强  
3. 该数据集数据经过了非线性处理，无法应用于现实世界  

训练框架：tensorflow或者pytorch  
模型要求：
1. 输入尺寸：无要求，即可以自行缩放到任意尺寸，甚至通道数
2. 模型尺寸：由于段测部署有实时性要求，为了简化要求，在此仅要求模型参数量在0.5M以内
   1. 如果是多个模型投票的方式，则要求所有模型的参数量之和在0.5M以内
3. 模型输出：模型原始输出无要求，但是最后测试模型时，对应函数需要封装到输出判断是真脸的概率
4. 对外测试接口：提供一个测试函数，输入图片路径，输出判断是真脸的概率
   ```
    def classify_face(image):
        ....
        return p  #prob of true face
    ```
对于合格的初级算法工程师，本赛题的参考用时为1～2天。  

## 提交内容
参赛者请在2022.3.31前提交结果  
提交邮箱： support@sipeed.com  
邮件标题：[矽速挑战赛] 算法初级组 参赛者名（可以是昵称）  
邮件内容：参赛者的基本信息（姓名，学校/公司，联系方式等），阐述基本的工作流程，优化点等  
附件内容：训练工程文件，预训练模型，及对应封装好的测试接口  

## 评比方法
1. 使用测试集进行测试，测试千分之一FPR时的TPR (计算方法参考同目录下的cal_fpr.py)
   1. score = Relu(TPR-0.98)*4000
   2. 即 TPR<=0.98 为0分，超过后，每0.001为4分，1.0时为80分
2. 如果TPR>0.98,则再进行难样本测试，
   1. 难样本为10个，均为负样本
   2. 测试千分之一FPR的阈值时，样本能否被拒绝，每个样本2分
3. 以上两项满分100分（现有部署模型参考评分100分）
4. 最终分数未达到90分的没有评奖资格
5. 本赛题最终解释权归矽速科技所有。

## 成绩天梯
参赛者的测试结果会在比赛期间及时更新到本节
1. 云雨 3.23 17：00 测试集 tpr=98.56%，即22.4分，难样本拒绝7个，即14分，合计 36.4分；推理速度，45s跑完
2. Stitch 3.29 17：00 SRM_ADD120_103_9503及以后的pkl 测试集 tpr=99.86%，即74.4分，难样本拒绝9个，即18分，合计 92.4分；推理速度，24s跑完
3. niecw0329 3.29 21：30 测试集 tpr=14%，未达标，多数图片倾向于给出0的判断
4. taorye 3.31 0：00 测试集 tpr=97%， 未达标
5. mmeza 3.31 15:00 测试集 tpr=99.15%，即46.0分，难样本拒绝8个，即16分，合计 62分；推理速度，27s跑完
6. 

